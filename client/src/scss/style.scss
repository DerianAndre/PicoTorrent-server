@import "variables";
@import "root";
@import "utilities";
@import "components/all";
@import "pages/all";

*, ::after, ::before {
  box-sizing: border-box;
}

// HTML
html {
  margin : 0;
  padding: 0;
  height : 100%;
}

// Body
body {
  display                    : flex;
  flex-direction             : column;
  height                     : 100%;
  margin                     : 0;
  font-family                : var(--font-family-base);
  font-size                  : var(--font-size-base);
  font-weight                : var(--font-weight-base);
  line-height                : var(--line-height-base);
  color                      : var(--body-color);
  text-align                 : var(--body-text-align);
  background-color           : var(--body-bg-color);
  background-image           : if($ui-bg-enable, var(--body-bg-img), 'none');
  background-repeat          : no-repeat;
  background-size            : auto 100%;
  background-position        : center;
  -webkit-text-size-adjust   : 100%;
  -webkit-tap-highlight-color: #000;
}

// Vue App
#app {
  display       : flex;
  flex-direction: column;
  height        : 100%;
  flex          : 1;
}

// Torrents (Table)
.torrents {
  display                   : block;
  width                     : 100%;
  height                    : var(--torrents-table-height);
  overflow-x                : auto;
  -webkit-overflow-scrolling: touch;
  -ms-overflow-style        : -ms-autohiding-scrollbar;
  table {
    min-width: 750px;
    th,
    td {
      // Torrent: Number
      &.id {
        width: 30px;
      }
      // Icons
      .bi {
        font-size   : 125%;
        line-height : 0;
        margin-right: 0.50rem;
        display     : var(--torrents-table-icons, 'inline');
        &.bi-hourglass {
          font-size  : 110%;
          margin-left: 1px;
        }
      }  
      // Progress-bar
      progress,
      .progress {
        span {
          display: var(--torrents-table-progress-text, 'inline');
        }
      }  
      // Table: Actions
      &.actions {
        text-align     : right;
        justify-content: flex-end;
        button {
          padding: 0.25rem;
          .bi {
            margin: 0;
            font-size: .85rem;
          }
        }
      }
    }
    // Table: Head
    th {
      font-size     : 85%;
      letter-spacing: 1px;
      &.actions {
        font-size: 0;
      }
    }
    // Table: Row
    tr {
      border-bottom: 0;
      @media (min-width: $breakpoint-sm) {
        color: var(--state-color);
      }
      transition: all 0.35s ease;
      &:hover {
        background: var(--state-color-hover);
      }
    }
    // Bar
    progress,
    .progress {
      &::-webkit-progress-value,
      .bar {
        background: var(--state-color, var(--primary)); 
      }
    }
    // Mobile
    @media (max-width: $breakpoint-sm) {
      min-width: auto;
      thead {
        display: none;
      }
      tbody {
        display       : flex;
        flex          : 1 1 100%;
        flex-wrap     : wrap;
        flex-direction: column;
        tr {
          display      : flex;
          flex-wrap    : wrap;
          padding      : .5rem .25rem;
          border-bottom: var(--separator);
          td {
            display    : flex;
            flex       : 1 0 auto;
            align-items: center;
            // Torrent Number
            &.id {
              display: none;
            }
            // Torrent Name
            &.name {
              padding-top: 0;
              order: 0;
              flex: 1 1 100%;
              font-size: 115%;
              font-weight: 600;
              border: 0;
            }
            // Torrent Status
            //&.status {
            //}
            // Torrent Download speed
            //&.download {
            //}
            // Torrent Upload speed
            //&.upload {
            //  border: 0;
            //}
            // Torrent Prgoress
            &.progress {
              order : 10;
              flex  : 1 1 100%;
              border: 0;
              progress,
              .progress {
                width : 100%;
                height: 10px;
              }
            }
          }
        }
      }
    }
  }
}

// Torrent File
.file {
  position  : absolute;
  left      : 0;
  top       : 0;
  right     : 0;
  bottom    : 0;
  background: var(--backdrop-bg);
  padding   : 1rem 0.75rem;
  overflow-y: auto;
  h2 {
    font-size: 1.5rem;
    @media (min-width: $breakpoint-sm) {  
      font-size: 1.35rem;
    }
  }
  h3 {
    font-size: 1.25rem;    
    @media (min-width: $breakpoint-sm) {  
      font-size: 1.15rem;
    }
  }
  .status-bar {
    width        : calc(100% + 1.5rem);
    margin-left  : -0.75rem;
    margin-bottom: 1rem;
    border-top   : var(--separator);
    .item {
      flex           : 0 0 auto;
      border-bottom  : 0;
      justify-content: flex-start;
      padding        : 0.5rem 0.75rem;
      min-width      : 100px;
      span {
        display: none;
      }
      &:hover {
        position: relative;
        span {
          position       : absolute;
          display        : block;
          left           : 50%;
          bottom         : -2.25rem;
          background     : rgba(50, 50, 50, 0.75);
          padding        : 0.25rem 0.5rem 0.35rem !important;
          border-radius  : 0.25rem;
          backdrop-filter: blur(5px);
          box-shadow     : 0 0.25rem 0.5rem -0.15rem rgba(0, 0, 0, 0.5);
          transform      : translateX(-50%);
          z-index        : 999;
        }
      }
    }
  }
  .row {
    margin: 0 -1rem 2rem;
    flex-wrap: wrap;
    .col {
      display: flex;
      flex: 1 1 100%;
      max-width: 100%;
      border-bottom: var(--separator);
      @media (min-width: $breakpoint-md) {
        flex: 1 1 50%;
        max-width: 50%;
      }
      @media (min-width: $breakpoint-lg) {
        flex: 1 1 33.333%;
        max-width: 33.333%;
      }
      @media (min-width: $breakpoint-xl) {
        flex: 1 1 25%;
        max-width: 25%;
      }
      .label, 
      .value {
        padding  : 0.35rem 1rem;
        word-wrap: break-word;
        @media (min-width: $breakpoint-md) {
          flex: 1 1 50%;
          max-width: 50%;
          max-height: 45px;
        }
        @media (min-width: $breakpoint-md) {
          max-height: 50px;
        }
      }
      .label {
        flex: 0 0 175px;
        width   : 175px;
        font-size: 0.75rem;
        font-weight: 500;
        color   : var(--body-color-highlight);
        overflow: auto;
      }
      .value {
        flex: 1 1 100%;
        font-size: 0.8rem;
        overflow: auto;
      }
    }
  }
  .progress {
    margin: 1rem 0 2rem;
  }
  .tabs {
    margin: 0 -0.75rem 1rem;
  }
}

// Components
.components {
  max-width: 500px;
  width: 100%;
  margin-bottom: 1rem;
  border: var(--separator);
  border-radius: .25rem;
  table tbody {
    tr:last-child {
      border: 0;
    }
  }
}
